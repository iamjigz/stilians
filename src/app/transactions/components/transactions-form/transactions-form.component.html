<main fxLayout="column" fxLayoutGap="30px">
  <form
    [(formGroup)]="transactionForm"
    (ngSubmit)="submit()"
    fxLayout="column"
    fxLayoutGap="10px"
  >
    <mat-card>
      <mat-card-header>
        <mat-card-title>
          Add New Transaction
        </mat-card-title>
        <mat-card-subtitle>
          {{ status$ | async }}
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div fxFlex fxLayout="column" fxLayoutGap="10px">
          <form [formGroup]="itemForm" fxLayout="column" fxLayoutGap="10px">
            <div fxLayout fxLayoutGap="10px">
              <mat-form-field fxFlex>
                <input
                  type="text"
                  placeholder="Search item"
                  aria-label="Number"
                  matInput
                  formControlName="search"
                  [matAutocomplete]="auto"
                />
                <mat-autocomplete #auto="matAutocomplete">
                  <mat-option
                    *ngFor="let stock of stock$ | async"
                    [value]="stock.name"
                  >
                    <span>{{ stock.name }}</span> |
                    <small>Stock: {{ stock.total }}</small>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
            </div>

            <div fxLayoutGap="10px">
              <mat-form-field appearance="standard">
                <mat-label>Quantity</mat-label>
                <input
                  required
                  matInput
                  type="number"
                  placeholder="Quantity"
                  id="quantity"
                  formControlName="quantity"
                />
              </mat-form-field>

              <button mat-raised-button color="primary" type="submit">
                Add
              </button>
            </div>
          </form>
        </div>
      </mat-card-content>

      <mat-card-actions fxLayout fxLayoutGap="10px">
        <button
          fxFlex
          mat-raised-button
          color="primary"
          type="submit"
          [disabled]="!transactionForm.valid"
        >
          Submit
        </button>
      </mat-card-actions>

      <mat-card-footer>
        <!-- <mat-error *ngIf="form.invalid">{{  }}</mat-error> -->
        <mat-error *ngIf="transactionForm.invalid">{{
          status$ | async
        }}</mat-error>
      </mat-card-footer>
    </mat-card>
  </form>

  <!-- <section>
      <mat-accordion fxFlex>
        <mat-expansion-panel *ngFor="let stock of stock$ | async">
          <mat-expansion-panel-header class="right-aligned-header">
            <mat-panel-title>
              {{ stock.name }}
            </mat-panel-title>
            <mat-panel-description>
              Stock: {{ stock.total }}
            </mat-panel-description>
          </mat-expansion-panel-header>
        </mat-expansion-panel>
      </mat-accordion>

      <mat-action-list>
        <div *ngFor="let stock of stock$ | async">
          <button mat-list-item color="accent">
            {{ stock.name }}
          </button>
        </div>
      </mat-action-list>
    </section> -->
</main>
